<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joyst Corporation - Admin Panel</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial; }
        body { background: #0a0a0a; color: white; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { background: #1a0a0a; padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 2px solid #ff4444; text-align: center; }
        .tabs { display: flex; margin-bottom: 20px; background: #1a0a0a; border-radius: 10px; padding: 10px; }
        .tab { padding: 15px 30px; background: #2a0a0a; margin: 0 5px; border-radius: 5px; cursor: pointer; border: 1px solid #ff4444; }
        .tab.active { background: #ff4444; }
        .tab-content { display: none; background: #1a0a0a; padding: 20px; border-radius: 10px; border: 1px solid #ff4444; }
        .tab-content.active { display: block; }
        .form-group { margin: 15px 0; }
        label { display: block; margin-bottom: 5px; color: #ff4444; }
        input, select, button { padding: 12px; width: 100%; margin: 5px 0; background: #2a0a0a; border: 1px solid #ff4444; color: white; border-radius: 5px; }
        button { background: #ff4444; cursor: pointer; font-weight: bold; }
        button:hover { background: #ff6666; }
        .user-card, .license-card { background: #2a0a0a; padding: 15px; margin: 10px 0; border-radius: 5px; border: 1px solid #ff4444; }
        .message { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #0a2a0a; border: 1px solid #00ff00; }
        .error { background: #2a0a0a; border: 1px solid #ff4444; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸš€ JOYST CORPORATION</h1>
            <p>Admin Authentication System</p>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="showTab('createUser')">Create User</div>
            <div class="tab" onclick="showTab('createLicense')">Create License</div>
            <div class="tab" onclick="showTab('manageUsers')">Manage Users</div>
            <div class="tab" onclick="showTab('manageLicenses')">Manage Licenses</div>
        </div>

        <!-- CREATE USER TAB -->
        <div id="createUser" class="tab-content active">
            <h2>Create New User</h2>
            <div class="form-group">
                <label>Username:</label>
                <input type="text" id="newUsername" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label>Password:</label>
                <input type="text" id="newPassword" placeholder="Enter password">
            </div>
            <div class="form-group">
                <label>Subscription Type:</label>
                <select id="userSubscription">
                    <option value="default">Default (30 days)</option>
                    <option value="premium">Premium (30 days)</option>
                    <option value="vip">VIP (30 days)</option>
                </select>
            </div>
            <button onclick="createUser()">Create User</button>
            <div id="userMessage"></div>
        </div>

        <!-- CREATE LICENSE TAB -->
        <div id="createLicense" class="tab-content">
            <h2>Generate License Keys</h2>
            <div class="form-group">
                <label>License Key:</label>
                <input type="text" id="licenseKey" placeholder="JOYST-PREMIUM-XXXXX">
            </div>
            <div class="form-group">
                <label>Subscription Type:</label>
                <select id="licenseSubscription">
                    <option value="default">Default (30 days)</option>
                    <option value="premium">Premium (30 days)</option>
                    <option value="vip">VIP (30 days)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Duration:</label>
                <select id="licenseDuration">
                    <option value="1">1 Day</option>
                    <option value="7">1 Week</option>
                    <option value="30" selected>1 Month</option>
                    <option value="365">1 Year</option>
                    <option value="9999">Lifetime</option>
                </select>
            </div>
            <button onclick="createLicense()">Generate License</button>
            <div id="licenseMessage"></div>
        </div>

        <!-- MANAGE USERS TAB -->
        <div id="manageUsers" class="tab-content">
            <h2>Manage Users</h2>
            <div id="usersList"></div>
        </div>

        <!-- MANAGE LICENSES TAB -->
        <div id="manageLicenses" class="tab-content">
            <h2>Manage License Keys</h2>
            <div id="licensesList"></div>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if(tabName === 'manageUsers') loadUsers();
            if(tabName === 'manageLicenses') loadLicenses();
        }

        // Create User
        async function createUser() {
            const username = document.getElementById('newUsername').value;
            const password = document.getElementById('newPassword').value;
            const subscription = document.getElementById('userSubscription').value;

            if(!username || !password) {
                showMessage('userMessage', 'Please fill all fields', 'error');
                return;
            }

            const userData = {
                username: username,
                password: password,
                subscription: subscription,
                expiry: Date.now() + (30 * 24 * 60 * 60 * 1000), // 30 days
                hwid: null,
                status: 'active',
                created: Date.now()
            };

            // Save to localStorage (tum GitHub pe JSON file use karoge)
            let users = JSON.parse(localStorage.getItem('joyst_users') || '[]');
            users.push(userData);
            localStorage.setItem('joyst_users', JSON.stringify(users));

            showMessage('userMessage', 'User created successfully!', 'success');
            document.getElementById('newUsername').value = '';
            document.getElementById('newPassword').value = '';
        }

        // Create License
        async function createLicense() {
            const licenseKey = document.getElementById('licenseKey').value;
            const subscription = document.getElementById('licenseSubscription').value;
            const duration = document.getElementById('licenseDuration').value;

            if(!licenseKey) {
                showMessage('licenseMessage', 'Please enter license key', 'error');
                return;
            }

            const licenseData = {
                key: licenseKey,
                subscription: subscription,
                duration: parseInt(duration),
                used: false,
                usedBy: null,
                usedAt: null,
                created: Date.now()
            };

            let licenses = JSON.parse(localStorage.getItem('joyst_licenses') || '[]');
            licenses.push(licenseData);
            localStorage.setItem('joyst_licenses', JSON.stringify(licenses));

            showMessage('licenseMessage', 'License key generated successfully!', 'success');
            document.getElementById('licenseKey').value = '';
        }

        // Load Users
        function loadUsers() {
            const users = JSON.parse(localStorage.getItem('joyst_users') || '[]');
            const usersList = document.getElementById('usersList');
            
            usersList.innerHTML = '';
            users.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'user-card';
                userCard.innerHTML = `
                    <strong>${user.username}</strong>
                    <br>Subscription: ${user.subscription}
                    <br>Expiry: ${new Date(user.expiry).toLocaleDateString()}
                    <br>HWID: ${user.hwid || 'Not set'}
                    <br>Status: ${user.status}
                    <br>
                    <button onclick="resetHWID('${user.username}')" style="width: auto; margin: 5px;">Reset HWID</button>
                    <button onclick="banUser('${user.username}')" style="width: auto; margin: 5px;">${user.status === 'banned' ? 'Unban' : 'Ban'}</button>
                    <button onclick="deleteUser('${user.username}')" style="width: auto; margin: 5px;">Delete</button>
                `;
                usersList.appendChild(userCard);
            });
        }

        // Load Licenses
        function loadLicenses() {
            const licenses = JSON.parse(localStorage.getItem('joyst_licenses') || '[]');
            const licensesList = document.getElementById('licensesList');
            
            licensesList.innerHTML = '';
            licenses.forEach(license => {
                const licenseCard = document.createElement('div');
                licenseCard.className = 'license-card';
                licenseCard.innerHTML = `
                    <strong>${license.key}</strong>
                    <br>Type: ${license.subscription}
                    <br>Duration: ${license.duration} days
                    <br>Status: ${license.used ? 'USED by ' + license.usedBy : 'AVAILABLE'}
                    <br>Created: ${new Date(license.created).toLocaleDateString()}
                    <br>
                    <button onclick="deleteLicense('${license.key}')" style="width: auto; margin: 5px;">Delete</button>
                `;
                licensesList.appendChild(licenseCard);
            });
        }

        // User Management Functions
        function resetHWID(username) {
            let users = JSON.parse(localStorage.getItem('joyst_users') || '[]');
            users = users.map(user => {
                if(user.username === username) {
                    user.hwid = null;
                }
                return user;
            });
            localStorage.setItem('joyst_users', JSON.stringify(users));
            loadUsers();
            alert('HWID reset for ' + username);
        }

        function banUser(username) {
            let users = JSON.parse(localStorage.getItem('joyst_users') || '[]');
            users = users.map(user => {
                if(user.username === username) {
                    user.status = user.status === 'banned' ? 'active' : 'banned';
                }
                return user;
            });
            localStorage.setItem('joyst_users', JSON.stringify(users));
            loadUsers();
        }

        function deleteUser(username) {
            let users = JSON.parse(localStorage.getItem('joyst_users') || '[]');
            users = users.filter(user => user.username !== username);
            localStorage.setItem('joyst_users', JSON.stringify(users));
            loadUsers();
        }

        function deleteLicense(key) {
            let licenses = JSON.parse(localStorage.getItem('joyst_licenses') || '[]');
            licenses = licenses.filter(license => license.key !== key);
            localStorage.setItem('joyst_licenses', JSON.stringify(licenses));
            loadLicenses();
        }

        function showMessage(elementId, message, type) {
            const element = document.getElementById(elementId);
            element.innerHTML = message;
            element.className = `message ${type}`;
            setTimeout(() => {
                element.innerHTML = '';
                element.className = '';
            }, 3000);
        }

        // Auto-generate license key
        document.getElementById('licenseKey').addEventListener('focus', function() {
            if(!this.value) {
                this.value = 'JOYST-' + Math.random().toString(36).substr(2, 8).toUpperCase();
            }
        });
    </script>
</body>
</html>